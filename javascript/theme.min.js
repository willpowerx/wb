"use strict";function map(a,b,c){jQuery(a).gmap3({map:{options:{zoom:c,scrollwheel:!1}},getlatlng:{address:b,callback:function(a){a&&(jQuery(this).gmap3("get").setCenter(new google.maps.LatLng(a[0].geometry.location.lat(),a[0].geometry.location.lng())),jQuery(this).gmap3({marker:{latLng:a[0].geometry.location}}))}}})}jQuery(function(a){function b(b){a("body").removeClass("site-loaded"),a(".preloader").fadeIn(b)}function c(b){""==b&&(b=800),a("body").addClass("site-loaded"),a(".preloader").fadeOut(b)}function d(b,c,d){a("body").hasClass("nav-open")||a("body").hasClass("background--dark")&&!a("body").hasClass("nav-scroll-active")?b.attr("src",d):b.attr("src",c)}function e(b){var c="portfolio-item";b.large&&(c+=" portfolio-large");for(var d=0;d<b.categories.length;d++)c+=" "+b.categories[d].toLowerCase().replace(/\s/g,"-");var e=a("<article>",{"class":c}).append(a("<a>",{href:b.url}).on("click",function(b){f(a(this),b)}).append(a("<img>",{src:b.image,alt:b.name})).append(a("<div>",{"class":"hover"}).append(a("<div>",{"class":"hover-content"}).append(a("<h5>",{html:b.name})).append(a("<span>",{html:b.categories.join(" / ")})))));return e}function f(d,e,f){return d.hasClass("porftolio-post-close")||b(100),a.ajax({url:d.attr("href"),cache:!1,success:function(b){a("body").append('<div class="portfolio-content">'+b+"</div>"),a(".porftolio-post-close").on("click",function(){a("body").removeClass("portfolio-ajax-active")}),a(".porftolio-post-prev, .portfolio-nav .prev").on("click",function(b){return f?a(".portfolio-item:last-of-type").find("a").click():d.parent().prev().find("a").click(),b.preventDefault(),!1}),a(".porftolio-post-next, .portfolio-nav .next").on("click",function(b){return f?a(".portfolio-item:first-of-type").find("a").click():d.parent().next().find("a").click(),b.preventDefault(),!1}),a("portfolio-content").imagesLoaded(function(){a("body").addClass("portfolio-ajax-active"),c(500),h(".portfolio-content","bottom-in-view")})}}),e.preventDefault(),!1}function g(){var b="masonry";a(".portfolio-4-columns").length&&(b="fitRows");var c=a(".portfolio").imagesLoaded(function(){c.isotope({itemSelector:".portfolio-item",layoutMode:b}).isotope("layout")});a(".filter").on("click","button",function(){var b=a(this).attr("data-filter");c.isotope({filter:b}),a(".filter .selected").removeClass("selected"),a(this).addClass("selected")}),a(".portfolio-ajax").length&&a(".portfolio-ajax a").on("click",function(b){f(a(this),b)})}function h(b,c){a(".animate").length&&a(".animate").waypoint({handler:function(){var b=a(this.element);b.hasClass("animated")||(b.addClass("animated"),b.hasClass("counter")&&b.find("span").each(function(){a(this).prop("Counter",0).animate({Counter:a(this).attr("data-val")},{duration:3e3,easing:"swing",step:function(b){a(this).text(Math.ceil(b))}})}))},offset:c,context:b})}function i(b){a(window).height()>400?a(b).height(a(window).height()):a(b).css("height","")}a(".parallax").each(function(b,c){a(c).parallax("50%",.6)});var j="",k="",l="";if(a(".site-logo").attr("data-light")&&(j=a(".site-logo").find("img"),k=a(".site-logo").find("img").attr("src"),l=a(".site-logo").attr("data-light"),d(j,k,l)),a(".nav-toggle").on("click",function(){a("body").toggleClass("nav-open"),a(".site-logo").attr("data-light")&&d(j,k,l)}),a(".nav-menu a").on("click",function(){a("body").removeClass("nav-open")}),a(".nav-sticky").length&&a(window).scroll(function(){a(window).scrollTop()>=80?a("body").addClass("nav-scroll-active"):a("body").removeClass("nav-scroll-active"),a(".site-logo").attr("data-light")&&d(j,k,l)}),a(".nav-menu a[href*=#]:not([href=#]), .tp-caption[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")||location.hostname===this.hostname){var b=a(this.hash),c=a.attr(this,"href"),d=0;if(a(window).width()<992&&(d=-75),b=b.length?b:a("[name="+this.hash.slice(1)+"]"),b.length)return a("html,body").animate({scrollTop:b.offset().top+d},1e3,function(){window.location.hash=c}),!1}}),a(".portfolio").length){var m=a(".portfolio[data-json]"),n="",o=a(".portfolio");m.length&&a.ajax({url:m.attr("data-json"),cache:!1,success:function(b){n=b;var c=b.length,d=[];c>m.attr("data-page")&&(c=m.attr("data-page"));for(var f=0;f<b.length;f++)for(var h=0;h<b[f].categories.length;h++)d.indexOf(b[f].categories[h])<0&&(d.push(b[f].categories[h]),a(".filter ul").append(a('<li><button data-filter=".'+b[f].categories[h].toLowerCase().replace(/\s/g,"-")+'">'+b[f].categories[h]+"</button></li>")));for(var f=0;c>f;f++)m.append(e(b[f]));c===n.length&&a(".portfolio-more button").attr("disabled",!0),g()}}),a(".portfolio-more button").on("click",function(){var b=parseInt(m.attr("data-page")),c=parseInt(m.find(".portfolio-item").length);b+c>=n.length?(b=n.length,a(this).attr("disabled",!0)):b+=c;for(var d=c;b>d;d++)o.isotope("insert",e(n[d]));a(".portfolio").imagesLoaded(function(){o.isotope("layout")})}),m.length||g(),a("[data-portfolio-external-url]").on("click",function(b){var c=a('.portfolio-item a[href="'+a(this).attr("href")+'"]');return c.length?(c.click(),b.preventDefault,!1):void f(a(this),b,!0)})}if(a.isFunction("mb_YTPlayer")&&a(".player").mb_YTPlayer(),a(".video video").prop("volume",0),a(".projects").slick(),a(".testimonials").slick({dots:!0,fade:!0,arrows:!1,autoplay:!0,autoplaySpeed:5e3}),a(".instagram").on("didLoadInstagram",function(b,c){var d={},e="https://api.instagram.com/v1/users/"+c.data[0].id.split("_")[1]+"/?access_token=1554589859.71ed503.20f8b92a2d31453a97db5384e33ce3f9";a.ajax({method:"GET",url:e,dataType:"jsonp",jsonp:"callback",success:function(e){d.authorPhoto=e.data.profile_picture,d.followers=e.data.counts.followed_by,d.photos=e.data.counts.media,d.username=e.data.username,d.full_name=e.data.full_name;var f=c.data,g=[],h=[],i=[];d.target=b.currentTarget.id,d.likes=0;for(var j=0;j<f.length;j++){d.likes+=f[j].likes.count;for(var k=0;k<f[j].tags.length;k++)-1===g.indexOf(f[j].tags[k])?(g.push(f[j].tags[k]),h.push(1)):h[g.indexOf(f[j].tags[k])]++}for(var j=0;j<g.length;j++)i.push({name:g[j],value:h[j]});i.sort(function(a,b){return b.value-a.value});for(var j=0;12>j;j++)a("#"+d.target+" .instagram-images").append('<li style="background-image: url('+f[j].images.low_resolution.url+')"></li>');a("#"+d.target+" .instagram-author-photo").append('<img src="'+d.authorPhoto+'" alt="'+d.full_name+'" />');for(var j=0;4>j;j++)a("#"+d.target+" .instagram-tags").append('<a href="http://www.enjoygram.com/tag/'+i[j].name+'" target="_blank">#'+i[j].name+"</a> ");a("#"+d.target+" .instagram-author-tag").append('<a href="http://instagram.com/'+d.username+'" target="_blank">#'+d.username+"</a>"),a("#"+d.target+" .num-photos span").html(d.photos),a("#"+d.target+" .num-followers span").html(d.followers),a("#"+d.target+" .num-likes span").html(d.likes),a("#"+d.target+" .instagram-follow").attr("href","http://instagram.com/"+d.username)}})}),a(".blog-masonry").length)var o=a(".blog-masonry").imagesLoaded(function(){o.isotope({itemSelector:".blog-masonry > div",layoutMode:"masonry"})});a(".site").imagesLoaded(function(){c()}),setTimeout(c,1e4);var p=a('form[data-form="contact-form"]');p.length&&p.validate({submitHandler:function(){a("#contact-form-message").remove();try{a.ajax({type:"POST",url:"http://zmthemes.com/dropout-html/php/mail.php",data:{form:p.serialize()}}).success(function(a){p.append('<label id="contact-form-message" class="success">'+a+"</label>")})}catch(b){console.log(b)}return!1}}),a('form[data-form="submit"] input').keypress(function(b){return 13==b.which?(a(this).parent().submit(),b.preventDefault(),!1):void 0}),h(window,"bottom-in-view");var q=".section-fs";a(".section-scroll").length&&(a(".section-fs").eq(0).hasClass("background-dark")&&a("body").addClass("background--dark"),a(".section-fs-container").onepage_scroll({sectionContainer:".section-fs",loop:!1,updateURL:!0,afterMove:function(b){a(".section-fs").eq(b).hasClass("background-dark")?a("body").addClass("background--dark"):a("body").removeClass("background--dark")}}),a('[data-nav="sections"] a').on("click",function(){a('.onepage-pagination [href="'+a(this).attr("href")+'"]').click()}),a(document).on("touchmove",function(b){a(window).height()>400&&b.preventDefault()}),a("body").on("touchstart",".scrollable",function(a){0===a.currentTarget.scrollTop?a.currentTarget.scrollTop=1:a.currentTarget.scrollHeight===a.currentTarget.scrollTop+a.currentTarget.offsetHeight&&(a.currentTarget.scrollTop-=1)}),a("body").on("touchmove",".scrollable",function(a){a.stopPropagation()}),q+=", .section-fs-container"),a(".section-fs").length&&(i(q),a(window).resize(function(){i(q)})),a.support.placeholder="placeholder"in document.createElement("input"),a.support.placeholder||(a("[placeholder]").focus(function(){a(this).val()==a(this).attr("placeholder")&&a(this).val("")}).blur(function(){""==a(this).val()&&a(this).val(a(this).attr("placeholder"))}).blur(),a("[placeholder]").parents("form").submit(function(){a(this).find("[placeholder]").each(function(){a(this).val()==a(this).attr("placeholder")&&a(this).val("")})}))});